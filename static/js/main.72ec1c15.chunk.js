(this.webpackJsonpweather=this.webpackJsonpweather||[]).push([[0],{14:function(e,t,a){"use strict";a.r(t);var n,r,s,i=a(0),o=a.n(i),c=a(7),l=a.n(c),u=a(8),p=a(1),m=a(2),h=a(3),d=a(4),g=(a(5),function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).dontRef=function(e){e.preventDefault()},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.dontRef,className:"locationForm"},o.a.createElement("input",{onChange:this.props.searchValue,type:"text",placeholder:"Search Location"}),o.a.createElement("div",{className:"serchIcons"},o.a.createElement("i",{onClick:this.props.searchHandler,className:"fas fa-search fa-2x"}),o.a.createElement("i",{onClick:function(t){return e.props.searchHandler(t,!0)},className:"fas fa-map-marker-alt fa-2x"}))))}}]),a}(i.Component)),v=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){var e;Object(p.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).convertUnix=function(e,t){var a=60*(new Date).getTimezoneOffset(),n=new Date(1e3*(e+a+t)),r=n.getHours(),s=n.getMinutes();return s<10&&(s=("0"+s).slice(-2)),"".concat(r,":").concat(s)},e}return Object(m.a)(a,[{key:"render",value:function(){var e=this.props,t=e.temperature,a=e.description,n=e.imageSRC,r=e.city,s=e.country,i=e.show;e.sunrise,e.sunset;return i?o.a.createElement("div",{className:"cwContainer"},o.a.createElement("h1",{className:"cwContainer"},r,", ",s," "),o.a.createElement("div",{className:"suriseCont"},o.a.createElement("img",{className:"",src:"/images/sunrise.png",height:"20px"}),o.a.createElement("p",null,o.a.createElement("strong",null," ",this.convertUnix(this.props.sunrise,this.props.timezone)),"       ",this.convertUnix(this.props.sunset,this.props.timezone)," ")),o.a.createElement("div",{className:"mainData"},o.a.createElement("img",{className:"weatherIconMain",src:n,height:"100px"}),o.a.createElement("div",{className:"mainDataText"},o.a.createElement("h1",null,t,"\xb0C"),o.a.createElement("h2",null,a)))):null}}]),a}(i.Component),f=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h2",{className:"day-header"},this.props.day))}}]),a}(i.Component),y=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(m.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"day-details-cont"},o.a.createElement("p",null,this.props.time,":00"),o.a.createElement("p",null,parseInt(this.props.temperature),"\xb0C "),o.a.createElement("img",{src:this.props.icon,height:"22px"}),o.a.createElement("p",null,this.props.description,"  "))}}]),a}(i.Component),b=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).convertUnix=function(e,t,a){var r=60*(new Date).getTimezoneOffset(),s=new Date(1e3*(e+r+t)),i=s.getDay(),o=(s.getDate(),s.getHours()),c=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][i];n.setState({day:c,time:o,temperature:n.props.temperature,description:n.props.description,icon:"./images/".concat(a,".png")})},n.state={temperature:n.props.temperature,description:n.props.description},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){this.convertUnix(this.props.timeStamp,this.props.timeAdjust,this.props.item.weather[0].icon)}},{key:"componentDidUpdate",value:function(e){console.log(),this.props.temperature!==e.temperature&&(console.log("works"),this.convertUnix(this.props.timeStamp,this.props.timeAdjust,this.props.item.weather[0].icon))}},{key:"render",value:function(){return""!=this.state.day&&this.state.day!=n?(n=this.state.day,o.a.createElement("div",null,o.a.createElement(f,{day:n}),o.a.createElement("div",{className:"itemFiveCont"},o.a.createElement(y,{time:this.state.time,temperature:this.state.temperature,description:this.state.description,icon:this.state.icon})))):o.a.createElement("div",{className:"itemFiveCont"},o.a.createElement(y,{time:this.state.time,temperature:this.state.temperature,description:this.state.description,icon:this.state.icon}))}}]),a}(i.Component),E=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).getFiveDaysFunc=function(e){var t="https://api.openweathermap.org/data/2.5/forecast?q=".concat(n.props.name,"&units=metric&appid=").concat("579e2e8de9afb7bf477ddac974c208f8");fetch(t).then((function(e){return e.json()})).then((function(e){console.log(e),n.setState({list:e.list,date:e.list[0].dt_txt,timezone:e.city.timezone})})).catch((function(){console.log("error")}))},n.state={list:[]},n}return Object(m.a)(a,[{key:"componentDidUpdate",value:function(e){console.log(),this.props.changeToggle!==e.changeToggle&&(console.log("works"),this.getFiveDaysFunc())}},{key:"componentDidMount",value:function(){this.getFiveDaysFunc()}},{key:"render",value:function(){var e=this;return console.log("hi "+this.props.changeToggle),this.props.show?o.a.createElement("div",null,this.state.list.map((function(t,a){return o.a.createElement("div",null,o.a.createElement(b,{item:t,temperature:t.main.temp,description:t.weather[0].description,timeStamp:t.dt,timeAdjust:e.state.timezone}))}))):null}}]),a}(i.Component),w="579e2e8de9afb7bf477ddac974c208f8";function j(e){r=e.coords.latitude,s=e.coords.longitude}var O=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(p.a)(this,a),(n=t.call(this,e)).doASearch=function(e,t){console.log("changes"),console.log(n.state.visib),e.preventDefault();var a="";a=t?"https://api.openweathermap.org/data/2.5/weather?lat=".concat(r,"&lon=").concat(s,"&units=metric&appid=").concat(w):"https://api.openweathermap.org/data/2.5/weather?q=".concat(n.state.searchLocation,"&units=metric&appid=").concat(w),fetch(a).then((function(e){return e.json()})).then((function(e){n.setState({items:e,name:e.name,temp:parseInt(e.main.temp),description:e.weather[0].description,icon:e.weather[0].icon,country:e.sys.country,show:!0,sunrise:e.sys.sunrise,sunset:e.sys.sunset,timezone:e.timezone,changeToggle:!n.state.changeToggle})})).catch((function(){alert("".concat(n.state.searchLocation," is not a valid place"))}))},n.searchValue=function(e){n.setState({searchLocation:e.target.value,show:!1})},n.state={searchLocation:"",items:[],temp:"",show:!1,changeToggle:!1},n}return Object(m.a)(a,[{key:"render",value:function(){var e=Object(u.a)({backgroundImage:"url(./images/bg".concat(this.state.icon,".png)"),margin:"0",backgroundRepeat:"no-repeat",backgroundSize:"cover",maxWidth:"400px"},"margin","auto");return navigator.geolocation?navigator.geolocation.getCurrentPosition(j):console.log("Geolocation is not supported by this browser."),o.a.createElement("div",{className:"app-cont"},o.a.createElement("div",{style:e},o.a.createElement("div",{className:"overlay"},o.a.createElement("div",{style:k},o.a.createElement(g,{searchHandler:this.doASearch,searchValue:this.searchValue,findLocation:this.findLocation}),o.a.createElement(v,{temperature:this.state.temp,description:this.state.description,imageSRC:"./images/".concat(this.state.icon,".png"),city:this.state.name,country:this.state.country,show:this.state.show,sunrise:this.state.sunrise,sunset:this.state.sunset,timezone:this.state.timezone})))),o.a.createElement(E,{name:this.state.name,show:this.state.show,changeToggle:this.state.changeToggle}))}}]),a}(i.Component),k={textAlign:"center"},C=O;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},5:function(e,t,a){},9:function(e,t,a){e.exports=a(14)}},[[9,1,2]]]);
//# sourceMappingURL=main.72ec1c15.chunk.js.map